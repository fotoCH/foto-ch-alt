!function(){"use strict";var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(n,a,i){var t=".rangeSlider",l={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},s=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},r=s.start+t,o=s.move+t,d=s.end+t,u=s.over+t,m=s.out+t,c=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(n){return["x","y"]}},g=function(e){return 0>e?0:e>100?100:e},f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@",getterSetter:"@"};return e&&(v.disabled="=",v.modelMin="=",v.modelMax="="),{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:v,link:function(e,s,v){function h(n){return e.getterSetter?arguments.length?e.modelMin(n):e.modelMin():arguments.length?e.modelMin=n:e.modelMin}function p(n){return e.getterSetter?arguments.length?e.modelMax(n):e.modelMax():arguments.length?e.modelMax=n:e.modelMax}function M(e){"min"===e?(angular.element(y[0]).css("display","none"),angular.element(y[1]).css("display","block")):"max"===e?(angular.element(y[0]).css("display","block"),angular.element(y[1]).css("display","none")):(angular.element(y[0]).css("display","block"),angular.element(y[1]).css("display","block"))}function x(e){e?V.addClass("ngrs-disabled"):V.removeClass("ngrs-disabled")}function b(){e.min>e.max&&$("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(f(e.min)||$("min must be a number"),f(e.max)||$("max must be a number"),k=e.max-e.min,S=[e.min,e.max],w())}function w(){if(h()>p()&&(D("modelMin must be less than or equal to modelMax"),h(p())),(angular.isDefined(h())||"min"===e.pinHandle)&&(angular.isDefined(p())||"max"===e.pinHandle)){f(h())||("min"!==e.pinHandle&&D("modelMin must be a number"),h(e.min)),f(p())||("max"!==e.pinHandle&&D("modelMax must be a number"),p(e.max));var n,i,t=g((h()-e.min)/k*100),l=g((p()-e.min)/k*100);if(e.attachHandleValues&&(n=t,i=l),h(Math.max(e.min,h())),p(Math.min(e.max,p())),e.filter&&e.filterOptions)e.filteredModelMin=a(e.filter)(h(),e.filterOptions),e.filteredModelMax=a(e.filter)(p(),e.filterOptions);else if(e.filter){var s,r,o=e.filter.split(":"),d=e.filter.split(":")[0],u=o.slice().slice(1);u=u.map(function(e){return f(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),s=u.slice(),r=u.slice(),s.unshift(h()),r.unshift(p()),e.filteredModelMin=a(d).apply(null,s),e.filteredModelMax=a(d).apply(null,r)}else e.filteredModelMin=h(),e.filteredModelMax=p();e.min===e.max&&h()==p()?(angular.element(y[0]).css(E,"0%"),angular.element(y[1]).css(E,"100%"),e.attachHandleValues&&(angular.element(F[0]).css(E,"0%"),angular.element(F[1]).css(E,"100%")),angular.element(C).css(E,"0%").css(P,"0%")):(angular.element(y[0]).css(E,t+"%"),angular.element(y[1]).css(E,l+"%"),e.attachHandleValues&&(angular.element(F[0]).css(E,n+"%"),angular.element(F[1]).css(E,i+"%"),angular.element(F[1]).css(P,"auto")),angular.element(C).css(E,t+"%").css(P,100-l+"%"),t>95&&angular.element(y[0]).css("z-index",3))}}function H(a){var i=y[a];i.bind(r+"X",function(l){var s=(0===a?"ngrs-handle-min":"ngrs-handle-max")+"-down",r=(0===a?h():p())-e.min,u=r/k*100,m=c(l),f=m,v=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),angular.element("body").bind("selectstart"+t,function(){return!1}),e.disabled||(j=!0,i.addClass("ngrs-down"),V.addClass("ngrs-focus "+s),angular.element("body").addClass("ngrs-touching"),n.bind(o,function(n){n.preventDefault();var t,l,s=c(n),r=e.step/k*100,o=((0===a?p():h())-e.min)/k*100;"x"!==s[0]&&(s[0]-=m[0],s[1]-=m[1],t=[f[0]!==s[0],f[1]!==s[1]],l=u+100*s[q]/(q?V.height():V.width()),l=g(l),e.preventEqualMinMax&&(0===r&&(r=1/k*100),0===a?o-=r:1===a&&(o+=r)),0===a?l=l>o?o:l:1===a&&(l=o>l?o:l),e.step>0&&100>l&&l>0&&(l=Math.round(l/r)*r),l>95&&0===a?i.css("z-index",3):i.css("z-index",""),t[q]&&l!=v&&(0===a?h(parseFloat(parseFloat(l*k/100+e.min).toFixed(e.decimalPlaces))):1===a&&p(parseFloat(parseFloat(l*k/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),v=l),f=s)}).bind(d,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),n.off(o),n.off(d),angular.element("body").removeClass("ngrs-touching"),j=!1,i.removeClass("ngrs-down"),i.removeClass("ngrs-over"),V.removeClass("ngrs-focus "+s)}))}).on(u,function(){i.addClass("ngrs-over")}).on(m,function(){j||i.removeClass("ngrs-over")})}function $(n){throw e.disabled=!0,new Error("RangeSlider: "+n)}function D(e){i.warn(e)}var V=angular.element(s),y=[s.find(".ngrs-handle-min"),s.find(".ngrs-handle-max")],F=[s.find(".ngrs-value-min"),s.find(".ngrs-value-max")],C=s.find(".ngrs-join"),E="left",P="right",q=0,S=[0,0],k=0,j=!1;e.filteredModelMin=h(),e.filteredModelMax=p(),v.$observe("disabled",function(n){angular.isDefined(n)||(e.disabled=l.disabled),e.$watch("disabled",x)}),v.$observe("orientation",function(n){angular.isDefined(n)||(e.orientation=l.orientation);for(var a,i=e.orientation.split(" "),t=0,s=i.length;s>t;t++)i[t]="ngrs-"+i[t];a=i.join(" "),V.addClass(a),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(E="top",P="bottom",q=1)}),v.$observe("step",function(n){angular.isDefined(n)||(e.step=l.step)}),v.$observe("decimalPlaces",function(n){angular.isDefined(n)||(e.decimalPlaces=l.decimalPlaces)}),v.$observe("showValues",function(n){e.showValues=angular.isDefined(n)?"false"===n?!1:!0:l.showValues}),v.$observe("pinHandle",function(n){e.pinHandle=angular.isDefined(n)&&("min"===n||"max"===n)?n:null,e.$watch("pinHandle",M)}),v.$observe("preventEqualMinMax",function(n){e.preventEqualMinMax=angular.isDefined(n)?"false"===n?!1:!0:l.preventEqualMinMax}),v.$observe("attachHandleValues",function(n){angular.isDefined(n)?"true"===n||""===n?(e.attachHandleValues=!0,s.find(".ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=l.attachHandleValues}),e.$watch("min",b),e.$watch("max",b),e.$watch(function(){return h()},w),e.$watch(function(){return p()},w),e.$on("$destroy",function(){V.off(t),angular.element("body").off(t),n.off(t);for(var e=0,a=y.length;a>e;e++)y[e].off(t),y[e].off(t+"X")}),V.bind("selectstart"+t,function(){return!1}).bind("click",function(e){e.stopPropagation()}),H(0),H(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}();