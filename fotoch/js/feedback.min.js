!function(e){feedback_button={language:"de",arrTranslation:{de:{email:"Ihre Email-Adresse (optional)",feedback:"Verbesserungsvorschläge, Probleme...",send:"Senden",confirmation:"Danke für das Feedback",error:"Es ist ein Problem aufgetreten. Bitte versuchen Sie es erneut."},fr:{email:"Votre adresse email (facultatif)",feedback:"Propositions d'améliorations, problèmes...",send:"Envoyer",confirmation:"Merci pour votre commentaire",error:"Erreur. Essayer de nouveau."},it:{email:"Il tuo indirizzo e-mail (facoltativo)",feedback:"Miglioramento suggerimenti, problemi",send:"Inviare",confirmation:"Grazie per il feedback",error:"C'è un problema. Riprova."},en:{email:"Your e-mail (optional)",feedback:"Suggestions, problems...",send:"Send",confirmation:"Thanks for your feedback",error:"Oups, an error occured. Please try again."}},onReady:function(){e.ajax({type:"POST",url:"./ajax.php?action=getLang",success:function(e){feedback_button.insertMarkup(e),feedback_button.language=e},error:function(){feedback_button.insertMarkup("de")}})},insertMarkup:function(a){e("body").append('<div class="feedback"><a id="feedback_button">Feedback</a><div class="form animated fadeOut"><div class="status animated"></div><input type="email" name="email" placeholder="'+this.arrTranslation[a].email+'"><textarea id="feedback_text" placeholder="'+this.arrTranslation[a].feedback+'"></textarea><input type="submit" value="'+this.arrTranslation[a].send+'" id="submit_form"></div></div>'),this.feedback_button_handler(),this.send_feedback(),e(document).mouseup(function(a){var t=e(".feedback");t.is(a.target)||0!==t.has(a.target).length||(t.removeClass("active"),t.children(".form").removeClass("fadeIn").addClass("fadeOut"))})},feedback_button_handler:function(){e("#feedback_button").click(function(){e(this).parent().toggleClass("active"),e(this).parent().hasClass("active")?e(this).next().addClass("fadeIn").removeClass("fadeOut"):e(this).next().removeClass("fadeIn").addClass("fadeOut")})},send_feedback:function(){e("#submit_form").click(function(){""!==e("#feedback_text").val()&&(e(".status").text(""),e.ajax({type:"POST",url:"./ajax.php?action=sendFeedback",data:"feedback="+e("#feedback_text").val(),success:function(a){"Message Sent"==a?(e(".form input, .form textarea").addClass("inactive"),e(".status").text(feedback_button.arrTranslation[feedback_button.language].confirmation),e(".status").addClass("fadeIn")):e(".status").text(feedback_button.arrTranslation[feedback_button.language].error)},error:function(){e(".status").text(feedback_button.arrTranslation[feedback_button.language].error)}}))})}},e().ready(function(){feedback_button.onReady()})}(jQuery);